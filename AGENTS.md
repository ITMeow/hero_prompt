# Agent Operational Guide (AGENTS.md)

This file guides AI agents (and humans) on how to work effectively in the `shipany-template-two` repository.
**Read this before starting any task.**

## 1. Project Context & Tech Stack

**Project**: ShipAny Template Two (AI SaaS Boilerplate)
**Framework**: Next.js 16 (App Router) + React 19
**Language**: TypeScript (`.ts`, `.tsx`)
**Styling**: Tailwind CSS 4, Radix UI, Shadcn UI, Framer Motion
**Database**: Postgres (via Drizzle ORM)
**Auth**: Better Auth
**Package Manager**: `pnpm`

## 2. Operational Commands

### Development

- **Start Dev Server**: `pnpm dev` (Runs on `http://localhost:3000`)
- **Lint Code**: `pnpm lint` (ESLint)
- **Format Code**: `pnpm format` (Prettier)
- **Type Check**: `pnpm tsc --noEmit` (Run this to verify type safety)

### Database (Drizzle ORM)

- **Generate Migrations**: `pnpm db:generate`
- **Run Migrations**: `pnpm db:migrate`
- **Push Schema (Prototyping)**: `pnpm db:push`
- **Studio UI**: `pnpm db:studio`

### Build

- **Production Build**: `pnpm build`
- **Analyze Bundle**: `pnpm build:fast` (with memory limit options)

### Testing

_Note: No automated test framework (Jest/Vitest) is currently configured._

- **Manual Verification**: Verify changes by running `pnpm dev` and checking the UI.
- **Lint/Build Check**: Always run `pnpm lint` and `pnpm build` before committing significant changes to ensure no regressions.

## 3. Code Style & Conventions

### File Structure

- **Root**: `src/`
  - `app/`: Next.js App Router pages and layouts.
  - `core/`: Core business logic, DB config, Auth config.
  - `shared/`: Shared utilities, components, hooks.
  - `config/`: Global configuration files.
  - `content/`: MDX content (if applicable).

### Naming Conventions

- **Directories**: `kebab-case` (e.g., `src/shared/components`)
- **Files**:
  - Components: `PascalCase.tsx` or `kebab-case.tsx` (Follow existing pattern in folder).
  - Utilities/Hooks: `camelCase.ts` (e.g., `useScroll.ts`)
- **Components**: `PascalCase` (e.g., `function HeroSection() {}`)
- **Variables/Functions**: `camelCase`

### Import Aliases

Use defined aliases in `tsconfig.json` and `components.json`:

- `@/shared/components` -> `src/shared/components`
- `@/shared/lib` -> `src/shared/lib`
- `@/shared/hooks` -> `src/shared/hooks`
- `@/config` -> `src/config`
- `@/core` -> `src/core`

### TypeScript & React Rules

- **Strict Types**: Avoid `any`. Use interfaces/types defined in `src/shared/types` or colocated with components.
- **Functional Components**: Use `export default function ComponentName() {}` or `export function ComponentName() {}`.
- **Server Components**: Default in Next.js App Router. Use `"use client"` directive only when necessary (state, effects).

### Styling (Tailwind CSS)

- Use utility classes.
- Use `cn()` utility for conditional class merging.
- Follow Shadcn UI patterns for component customization.

## 4. Workflow for Agents

1.  **Exploration**: Before making changes, explore related files to understand existing patterns.
2.  **Implementation**:
    - Create `TODO.md` or use the `todo` tool for complex tasks.
    - Follow the file structure (place new components in `src/shared/components` or specific feature folders).
    - Use `pnpm db:generate` if modifying schema.
3.  **Verification**:
    - Run `pnpm lint` to catch errors.
    - Run `pnpm build` to ensure type safety and build success.
4.  **Commit**: Write clear, conventional commit messages (e.g., `feat: add new hero section`, `fix: resolve auth issue`).

## 5. Specific Configuration Notes

- **Env Variables**: Managed via `.env` (copied from `.env.example`).
- **I18n**: Uses `next-intl`. Configured in `src/config/locale.ts`.
- **Better Auth**: Configuration in `src/core/auth`.

---

## Browser Automation

Use `agent-browser` for web automation. Run `agent-browser --help` for all commands.
Core workflow:

1. `agent-browser open <url>` - Navigate to page
2. `agent-browser snapshot -i` - Get interactive elements with refs (@e1, @e2)
3. `agent-browser click @e1` / `fill @e2 "text"` - Interact using refs
4. Re-snapshot after page changes

_Generated by Sisyphus on 2026-01-14_
